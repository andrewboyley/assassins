import{l as h,o as l,c as a,a as s,w as p,v as _,t as f,b as c,F as k,r as v,d as y,e as b,f as A,g as C}from"./vendor.08af5cbe.js";const j=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function u(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=u(e);fetch(e.href,o)}};j();var R=(r,t)=>{const u=r.__vccOpts||r;for(const[i,e]of t)u[i]=e;return u};const E={setup(){},data(){return{socket:h(),joinRoomCode:"",currentRoom:null,username:"",isAdmin:!1}},created(){this.socket=h(),this.socket.on("connect",()=>{this.username=""}),this.socket.on("target",r=>{this.currentRoom.target=r.username}),this.socket.on("room-info",r=>{this.currentRoom=r,this.setAdmin()})},computed:{currentRoomName(){var r;return(r=this.currentRoom)==null?void 0:r.room},roomMembers(){var r;return(r=this.currentRoom)==null?void 0:r.members}},beforeUnmount(){this.socket&&this.socket.disconnect()},methods:{usernameReminder(){alert("Please enter a username")},beginAssign(){this.socket.emit("assign",{room:this.currentRoomName})},setAdmin(){var r;(r=this.currentRoom)==null||r.members.forEach(t=>{t.id===this.socket.id&&(this.isAdmin=t.admin)})},leaveRoom(r){this.socket.emit("leave"),this.currentRoom=null,this.isAdmin=!1},createRoom(r){if(r.preventDefault(),!this.username){this.usernameReminder();return}this.socket.emit("join",{room:null,admin:!0,username:this.username},t=>{})},joinRoom(r){if(r.preventDefault(),!this.username){this.usernameReminder();return}this.socket.emit("join",{room:this.joinRoomCode,admin:!1,username:this.username},t=>{})}}},N={id:"main"},L={id:"profile"},x=s("legend",null,"Profile",-1),P=s("label",{for:"name"},"Username",-1),O={id:"create"},D=s("legend",null,"Create",-1),V={id:"join"},w=s("legend",null,"Join",-1),B=s("p",null,"Enter room code to join room",-1),H={key:0},S={key:1},T={key:0};function U(r,t,u,i,e,o){var m,d;return l(),a("div",N,[s("form",L,[s("fieldset",null,[x,P,p(s("input",{type:"text",name:"name",id:"name",placeholder:"Enter name","onUpdate:modelValue":t[0]||(t[0]=n=>e.username=n)},null,512),[[_,e.username]])])]),s("form",O,[s("fieldset",null,[D,s("button",{onClick:t[1]||(t[1]=(...n)=>o.createRoom&&o.createRoom(...n))},"Create room")])]),s("form",V,[s("fieldset",null,[w,B,p(s("input",{type:"text",placeholder:"ABCDE","onUpdate:modelValue":t[2]||(t[2]=n=>e.joinRoomCode=n)},null,512),[[_,e.joinRoomCode]]),s("button",{onClick:t[3]||(t[3]=(...n)=>o.joinRoom&&o.joinRoom(...n))},"Join room")])]),s("div",null,[o.currentRoomName?(l(),a("h2",H,"Current room: "+f(o.currentRoomName),1)):c("",!0),((m=e.currentRoom)==null?void 0:m.target)?(l(),a("h2",S,"Target: "+f((d=e.currentRoom)==null?void 0:d.target),1)):c("",!0),o.currentRoomName?(l(),a("button",{key:2,onClick:t[4]||(t[4]=(...n)=>o.leaveRoom&&o.leaveRoom(...n))},"Leave room")):c("",!0),e.isAdmin?(l(),a("button",{key:3,onClick:t[5]||(t[5]=(...n)=>o.beginAssign&&o.beginAssign(...n))},"Assign targets")):c("",!0),(l(!0),a(k,null,v(o.roomMembers,n=>(l(),a("p",{key:n.id},[y(f(n.username)+" ",1),n.admin?(l(),a("span",T,"~~Admin~~")):c("",!0)]))),128))])])}var F=R(E,[["render",U]]);const M="modulepreload",g={},q="/",I=function(t,u){return!u||u.length===0?t():Promise.all(u.map(i=>{if(i=`${q}${i}`,i in g)return;g[i]=!0;const e=i.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const m=document.createElement("link");if(m.rel=e?"stylesheet":M,e||(m.as="script",m.crossOrigin=""),m.href=i,document.head.appendChild(m),e)return new Promise((d,n)=>{m.addEventListener("load",d),m.addEventListener("error",n)})})).then(()=>t())},J={name:"Home",components:{}},W={class:"home"};function K(r,t,u,i,e,o){return l(),a("div",W)}var z=R(J,[["render",K]]);const G=[{path:"/",name:"Home",component:z},{path:"/about",name:"About",component:()=>I(()=>import("./About.b024f30c.js"),["assets/About.b024f30c.js","assets/vendor.08af5cbe.js"])}],Q=b({history:A(),routes:G});C(F).use(Q).mount("#app");export{R as _};
